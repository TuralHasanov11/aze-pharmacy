{% load query_transform %} 
{% if pagination.paginator.num_pages > 1 %}
<nav aria-label="Page navigation pagination-wrap">
  <ul class="pagination">
    {% if pagination.has_previous %}
      <li class="page-item">
        <a class="prev page-numbers" href="?{% query_transform page='1' %}">
          <i class="fas fa-angle-double-left"></i>
        </a>
      </li>
      <li class="page-item">
        <a class="prev page-numbers" href="?{% query_transform page=pagination.previous_page_number %}">
          <i class="fa fa-angle-left" aria-hidden="true"></i>
        </a>
      </li>
    {% endif %}
    {% for num in pagination.paginator.page_range %}
      {% if num > pagination.number|add:-3 and num < pagination.number|add:3 or num == pagination.paginator.num_pages or num == 1 %}
      <li class="page-item">
        <a class="page-numbers {% if num == pagination.number %}active{% endif %}" href="?{% query_transform page=num %}">{{num}}</a>
      </li>
      {% elif num > pagination.number|add:-4 and num < pagination.number|add:4 %}
      <li class="page-item">
        <a class="page-numbers" href="javascript:void(0)">...</a>
      </li>
      {% endif %} 
    {% endfor %}
    {% if pagination.has_next %}
    <li class="page-item">
      <a class="next page-numbers" href="?{% query_transform page=pagination.next_page_number %}">
        <i class="fa fa-angle-right" aria-hidden="true"></i>
      </a>
    </li>
    <li class="page-item">
      <a class="next page-numbers" href="?{% query_transform page=pagination.paginator.num_pages %}">
        <i class="fas fa-angle-double-right"></i>
      </a>
    </li>
    {% endif %}
  </ul>							
</nav>
{% endif %}



